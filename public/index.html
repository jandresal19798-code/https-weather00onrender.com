<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
  <meta name="theme-color" content="#0B3D91">
  <meta name="description" content="Zeus Meteo - Inteligencia Meteorol√≥gica con IA">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Zeus Meteo">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="format-detection" content="telephone=no">
  <link rel="manifest" href="/manifest.json">
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'><defs><linearGradient id='g' x1='0%25' y1='0%25' x2='100%25' y2='100%25'><stop offset='0%25' stop-color='%234285f4'/><stop offset='100%25' stop-color='%231a73e8'/></linearGradient></defs><rect fill='url(%23g)' width='512' height='512' rx='128'/><circle cx='200' cy='200' r='70' fill='%23FFD93D'/><path d='M175 315 Q200 275 225 315 Q250 355 200 380 Q150 355 175 315' fill='white'/></svg>">
  <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'><defs><linearGradient id='g' x1='0%25' y1='0%25' x2='100%25' y2='100%25'><stop offset='0%25' stop-color='%234285f4'/><stop offset='100%25' stop-color='%231a73e8'/></linearGradient></defs><rect fill='url(%23g)' width='512' height='512' rx='128'/><circle cx='200' cy='200' r='70' fill='%23FFD93D'/><path d='M175 315 Q200 275 225 315 Q250 355 200 380 Q150 355 175 315' fill='white'/></svg>">
  <link rel="mask-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><path fill='%234285f4' d='M50 10 L35 45 L50 45 L40 90 L70 50 L55 50 Z'/></svg>" color="#4285f4">
  <title>Zeus Meteo - Tu Asistente del Clima</title>
  <link rel="stylesheet" href="weather.css">
  <link rel="stylesheet" href="home.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Animated Background -->
  <div class="ambient-bg">
    <div class="cloud cloud-1"></div>
    <div class="cloud cloud-2"></div>
    <div class="cloud cloud-3"></div>
  </div>

  <!-- Header -->
  <header class="home-header">
    <div class="header-content">
      <div class="logo-container">
        <div class="zeus-logo">
          <svg viewBox="0 0 100 100" class="logo-svg">
            <defs>
              <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#FFD700"/>
                <stop offset="50%" style="stop-color:#FFA500"/>
                <stop offset="100%" style="stop-color:#FF6B00"/>
              </linearGradient>
              <filter id="glow">
                <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
                <feMerge>
                  <feMergeNode in="coloredBlur"/>
                  <feMergeNode in="SourceGraphic"/>
                </feMerge>
              </filter>
            </defs>
            <!-- Lightning Bolt -->
            <path d="M55 10 L35 45 L50 45 L40 90 L70 50 L55 50 Z" 
                  fill="url(#logoGradient)" 
                  filter="url(#glow)"
                  class="lightning-bolt"/>
            <!-- Circle around -->
            <circle cx="50" cy="50" r="45" 
                    fill="none" 
                    stroke="url(#logoGradient)" 
                    stroke-width="2"
                    opacity="0.3"/>
          </svg>
        </div>
        <div class="logo-text">
          <h1 class="brand-name">ZEUS METEO</h1>
          <span class="brand-tagline">Inteligencia Meteorol√≥gica</span>
        </div>
      </div>
      <nav class="main-nav">
        <a href="forecast.html" class="nav-link">
          <span class="nav-icon">üå§Ô∏è</span>
          Ver Pron√≥stico
        </a>
      </nav>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-content">
      <div class="hero-text">
        <h2 class="hero-title">
          Tu Asistente
          <span class="highlight">Meteorol√≥gico</span>
          Inteligente
        </h2>
        <p class="hero-description">
          Obt√©n pron√≥sticos precisos del clima potenciados por inteligencia artificial. 
          Datos en tiempo real de las mejores fuentes meteorol√≥gicas del mundo.
        </p>
        <div class="hero-actions">
          <a href="forecast.html" class="btn-primary">
            <span class="btn-icon">üîç</span>
            Buscar Clima
          </a>
          <a href="#features" class="btn-secondary">
            Conocer M√°s
          </a>
        </div>
        <div class="hero-stats">
          <div class="stat">
            <span class="stat-value">7</span>
            <span class="stat-label">D√≠as de Pron√≥stico</span>
          </div>
          <div class="stat">
            <span class="stat-value">24</span>
            <span class="stat-label">Horas por D√≠a</span>
          </div>
          <div class="stat">
            <span class="stat-value">‚àû</span>
            <span class="stat-label">Ciudades</span>
          </div>
        </div>
      </div>
      <div class="hero-visual">
        <div class="weather-showcase">
          <div class="weather-card-large">
            <div class="weather-main">
              <span class="weather-emoji">‚òÄÔ∏è</span>
              <div class="weather-temp">24¬∞C</div>
            </div>
            <div class="weather-info">
              <div class="weather-city">Buenos Aires</div>
              <div class="weather-condition">Despejado</div>
            </div>
            <div class="weather-details">
              <span>üíß 45%</span>
              <span>üí® 12 km/h</span>
              <span>‚òÄÔ∏è UV: 6</span>
            </div>
          </div>
          <div class="floating-elements">
            <span class="float-item cloud-float">‚òÅÔ∏è</span>
            <span class="float-item sun-float">‚òÄÔ∏è</span>
            <span class="float-item rain-float">üåßÔ∏è</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section id="features" class="features">
    <div class="section-header">
      <h2 class="section-title">¬øQu√© Puedes Hacer?</h2>
      <p class="section-subtitle">Explora todas las funcionalidades de Zeus Meteo</p>
    </div>
    
    <div class="features-grid">
      <div class="feature-card">
        <div class="feature-icon">
          <svg viewBox="0 0 64 64" class="feature-svg">
            <circle cx="32" cy="32" r="30" fill="#E3F2FD"/>
            <path d="M32 8 L32 20 M32 44 L32 56 M8 32 L20 32 M44 32 L56 32" stroke="#0B3D91" stroke-width="2" stroke-linecap="round"/>
            <circle cx="32" cy="32" r="12" fill="#0B3D91"/>
            <text x="32" y="36" text-anchor="middle" fill="white" font-size="12">24h</text>
          </svg>
        </div>
        <h3 class="feature-title">Pron√≥stico Horario</h3>
        <p class="feature-description">Ve el clima hora por hora para las pr√≥ximas 24 horas con actualizaciones precisas.</p>
        <div class="feature-tags">
          <span class="tag">En tiempo real</span>
          <span class="tag">Preciso</span>
        </div>
      </div>

      <div class="feature-card">
        <div class="feature-icon">
          <svg viewBox="0 0 64 64" class="feature-svg">
            <rect x="8" y="8" width="48" height="48" rx="8" fill="#E8F5E9"/>
            <rect x="16" y="20" width="8" height="28" fill="#4CAF50" rx="2"/>
            <rect x="28" y="12" width="8" height="36" fill="#81C784" rx="2"/>
            <rect x="40" y="26" width="8" height="22" fill="#A5D6A7" rx="2"/>
          </svg>
        </div>
        <h3 class="feature-title">7 D√≠as de Pron√≥stico</h3>
        <p class="feature-description">Planifica tu semana conÊàë‰ª¨ÁöÑ pron√≥sticos extendidos de hasta 7 d√≠as.</p>
        <div class="feature-tags">
          <span class="tag">7 d√≠as</span>
          <span class="tag">Confiable</span>
        </div>
      </div>

      <div class="feature-card">
        <div class="feature-icon">
          <svg viewBox="0 0 64 64" class="feature-svg">
            <circle cx="32" cy="32" r="28" fill="#FFF3E0"/>
            <path d="M32 12 A20 20 0 0 1 52 32" stroke="#FF9800" stroke-width="4" fill="none"/>
            <path d="M32 52 A20 20 0 0 1 12 32" stroke="#FFB74D" stroke-width="4" fill="none"/>
            <circle cx="32" cy="32" r="4" fill="#FF9800"/>
          </svg>
        </div>
        <h3 class="feature-title">Sol y Luna</h3>
        <p class="feature-description">Consulta horarios de amanecer, atardecer y fases lunares para tu ubicaci√≥n.</p>
        <div class="feature-tags">
          <span class="tag">Astronom√≠a</span>
          <span class="tag">Datos precisos</span>
        </div>
      </div>

      <div class="feature-card">
        <div class="feature-icon">
          <svg viewBox="0 0 64 64" class="feature-svg">
            <rect x="8" y="24" width="48" height="32" rx="4" fill="#E8EAF6"/>
            <path d="M8 28 Q20 20 32 28 T56 28" stroke="#3F51B5" stroke-width="3" fill="none"/>
            <circle cx="20" cy="48" r="4" fill="#7986CB"/>
            <circle cx="32" cy="52" r="4" fill="#5C6BC0"/>
            <circle cx="44" cy="48" r="4" fill="#9FA8DA"/>
          </svg>
        </div>
        <h3 class="feature-title">Gr√°ficos Interactivos</h3>
        <p class="feature-description">Visualiza tendencias de temperatura con gr√°ficos din√°micos y f√°ciles de entender.</p>
        <div class="feature-tags">
          <span class="tag">Visual</span>
          <span class="tag">Interactivo</span>
        </div>
      </div>

      <div class="feature-card">
        <div class="feature-icon">
          <svg viewBox="0 0 64 64" class="feature-svg">
            <rect x="12" y="8" width="40" height="48" rx="6" fill="#FCE4EC"/>
            <rect x="16" y="12" width="32" height="36" rx="2" fill="white"/>
            <circle cx="32" cy="30" r="10" fill="#EC407A"/>
            <path d="M32 40 L32 50" stroke="#EC407A" stroke-width="4" stroke-linecap="round"/>
            <circle cx="32" cy="30" r="2" fill="white"/>
          </svg>
        </div>
        <h3 class="feature-title">Mapa del Clima</h3>
        <p class="feature-description">Explora mapas interactivos de sat√©lite, precipitaci√≥n, viento y m√°s.</p>
        <div class="feature-tags">
          <span class="tag">Sat√©lite</span>
          <span class="tag">Viento</span>
        </div>
      </div>

      <div class="feature-card">
        <div class="feature-icon">
          <svg viewBox="0 0 64 64" class="feature-svg">
            <circle cx="32" cy="32" r="28" fill="#E0F7FA"/>
            <path d="M32 16 L32 32 L44 44" stroke="#00BCD4" stroke-width="4" stroke-linecap="round" fill="none"/>
            <circle cx="32" cy="32" r="4" fill="#00BCD4"/>
          </svg>
        </div>
        <h3 class="feature-title">IA Conversacional</h3>
        <p class="feature-description">Preg√∫ntale a Zeus sobre el clima, pron√≥sticos y curiosidades meteorol√≥gicas.</p>
        <div class="feature-tags">
          <span class="tag">Chatbot</span>
          <span class="tag">Inteligente</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Data Sources Section -->
  <section class="sources">
    <div class="section-header">
      <h2 class="section-title">Fuentes de Datos</h2>
      <p class="section-subtitle">Informaci√≥n meteorol√≥gica de fuentes confiables</p>
    </div>
    
    <div class="sources-grid">
      <div class="source-card">
        <div class="source-logo">
          <span class="source-icon">üåê</span>
        </div>
        <h3 class="source-name">Open-Meteo</h3>
        <p class="source-description">API meteorol√≥gica gratuita sin API key con datos globales.</p>
      </div>
      
      <div class="source-card">
        <div class="source-logo">
          <span class="source-icon">üá∫üá∏</span>
        </div>
        <h3 class="source-name">US-NWS</h3>
        <p class="source-description">National Weather Service de Estados Unidos.</p>
      </div>
      
      <div class="source-card">
        <div class="source-logo">
          <span class="source-icon">üá≥üá¥</span>
        </div>
        <h3 class="source-name">MetNorway</h3>
        <p class="source-description">Instituto Meteorol√≥gico de Noruega.</p>
      </div>
    </div>
  </section>

  <!-- Quick Search Section -->
  <section class="quick-search">
    <div class="quick-search-content">
      <h2 class="quick-search-title">Consulta el Clima Ahora</h2>
      <p class="quick-search-description">Busca cualquier ciudad del mundo y obt√©n informaci√≥n detallada.</p>
      <div class="search-box">
        <input type="text" id="location-input" placeholder="Ciudad, Pa√≠s (ej: Montevideo, Uruguay)..." onkeypress="if(event.key==='Enter')quickSearchFromHome()" oninput="handleSearchInput(this)"/>
        <button class="search-btn" onclick="quickSearchFromHome()">
          <svg viewBox="0 0 24 24" width="20" height="20">
            <circle cx="11" cy="11" r="7" fill="none" stroke="currentColor" stroke-width="2"/>
            <path d="M16 16 L21 21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          Buscar
        </button>
      </div>
      <div id="search-suggestions" class="search-suggestions" style="display: none;"></div>
      <div class="quick-cities">
        <span class="quick-label">Ciudades populares:</span>
        <button onclick="quickSearchCity('Buenos Aires')">Buenos Aires</button>
        <button onclick="quickSearchCity('Madrid')">Madrid</button>
        <button onclick="quickSearchCity('Nueva York')">Nueva York</button>
        <button onclick="quickSearchCity('Londres')">Londres</button>
        <button onclick="quickSearchCity('Tokio')">Tokio</button>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="home-footer">
    <div class="footer-content">
      <div class="footer-logo">
        <div class="zeus-logo-small">
          <svg viewBox="0 0 40 40" class="logo-svg-small">
            <defs>
              <linearGradient id="logoGradientSmall" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#FFD700"/>
                <stop offset="100%" style="stop-color:#FF6B00"/>
              </linearGradient>
            </defs>
            <path d="M22 4 L14 18 L20 18 L16 36 L28 20 L22 20 Z" 
                  fill="url(#logoGradientSmall)"/>
          </svg>
        </div>
        <span class="footer-brand">ZEUS METEO</span>
      </div>
      <p class="footer-text">Sistema de Inteligencia Meteorol√≥gica Potenciado por IA</p>
      <p class="footer-copyright">¬© 2026 Zeus Meteo. Todos los derechos reservados.</p>
    </div>
  </footer>

  <script src="weather-enhanced.js"></script>
  <script>
    let searchTimeout = null;
    let currentSuggestions = [];
    
    async function handleSearchInput(input) {
      const query = input.value.trim();
      
      if (searchTimeout) {
        clearTimeout(searchTimeout);
      }
      
      const suggestionsEl = document.getElementById('search-suggestions');
      
      if (query.length < 2) {
        suggestionsEl.classList.remove('active');
        return;
      }
      
      searchTimeout = setTimeout(async () => {
        try {
          const response = await fetch(`/api/search?q=${encodeURIComponent(query)}`);
          const suggestions = await response.json();
          
          if (suggestions.length > 0) {
            currentSuggestions = suggestions;
            suggestionsEl.innerHTML = suggestions.map((s, i) => `
              <div class="suggestion-item" onclick="selectSuggestion(${i})">
                <span class="suggestion-icon">üìç</span>
                <div class="suggestion-info">
                  <span class="suggestion-name">${escapeHtml(s.name)}</span>
                  <span class="suggestion-country">${escapeHtml(s.country)}${s.state ? ' ‚Ä¢ ' + escapeHtml(s.state) : ''}</span>
                </div>
                <span class="suggestion-flag">${getFlag(s.countryCode)}</span>
              </div>
            `).join('');
            suggestionsEl.classList.add('active');
          } else {
            suggestionsEl.classList.remove('active');
          }
        } catch (e) {
          console.error('Error buscando:', e);
          suggestionsEl.classList.remove('active');
        }
      }, 300);
    }
    
    function selectSuggestion(index) {
      const suggestion = currentSuggestions[index];
      if (suggestion) {
        const input = document.getElementById('location-input');
        input.value = suggestion.display;
        document.getElementById('search-suggestions').classList.remove('active');
        quickSearchFromHome();
      }
    }
    
    function getFlag(countryCode) {
      if (!countryCode) return '';
      const codePoints = countryCode.split('').map(c => 127397 + c.charCodeAt(0));
      return String.fromCodePoint(...codePoints);
    }
    
    function escapeHtml(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }
    
    document.addEventListener('click', (e) => {
      const suggestionsEl = document.getElementById('search-suggestions');
      const input = document.getElementById('location-input');
      if (!e.target.closest('.search-box') && !e.target.closest('.search-suggestions')) {
        suggestionsEl.classList.remove('active');
      }
    });
    
    function quickSearchFromHome() {
      const location = document.getElementById('location-input').value.trim();
      document.getElementById('search-suggestions').classList.remove('active');
      if (location) {
        window.location.href = 'forecast.html?city=' + encodeURIComponent(location);
      }
    }
    
    function quickSearchCity(city) {
      window.location.href = 'forecast.html?city=' + encodeURIComponent(city);
    }
    
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(registration => {
            console.log('SW registrado:', registration.scope);
          })
          .catch(error => {
            console.log('SW no disponible:', error.message);
          });
      });
    }
  </script>
</body>
</html>
