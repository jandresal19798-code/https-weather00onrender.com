<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
  <meta name="theme-color" content="#0B3D91">
  <meta name="description" content="Zeus Meteo - PronÃ³stico meteorolÃ³gico detallado">
  <title>Zeus Meteo - PronÃ³stico</title>
  <link rel="stylesheet" href="weather.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:300;400;500;600;700;800&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <!-- Loading Overlay -->
  <div class="loading-overlay-top" id="loading">
    <div class="loading-content-top">
      <div class="nasa-loader">
        <div class="nasa-spinner">
          <svg viewBox="0 0 100 100">
            <circle cx="50" cy="50" r="45" fill="none" stroke="#0B3D91" stroke-width="2"/>
            <path d="M50 5 A45 45 0 0 1 95 50" fill="none" stroke="#0B3D91" stroke-width="4" stroke-linecap="round"/>
          </svg>
        </div>
        <div class="loading-earth">
          <div class="earth-globe">
            <div class="earth-continents"></div>
          </div>
        </div>
      </div>
      <h2 class="loading-title-top">ZEUS METEO</h2>
      <p class="loading-subtitle-top">Analizando datos meteorolÃ³gicos...</p>
      <div class="loading-progress">
        <div class="loading-bar"></div>
      </div>
    </div>
  </div>

  <!-- Header -->
  <header class="forecast-header">
    <div class="header-container">
      <a href="index.html" class="logo-section">
        <div class="zeus-logo-small">
          <svg viewBox="0 0 40 40">
            <defs>
              <linearGradient id="logoGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#FFD700"/>
                <stop offset="100%" style="stop-color:#FF6B00"/>
              </linearGradient>
            </defs>
            <path d="M22 4 L14 18 L20 18 L16 36 L28 20 L22 20 Z" fill="url(#logoGrad)"/>
          </svg>
        </div>
        <div class="logo-text">
          <span class="logo-title">ZEUS METEO</span>
        </div>
      </a>
      <div class="header-actions">
        <a href="index.html" class="action-btn">ğŸ  Inicio</a>
        <button class="action-btn" onclick="downloadPDF()">ğŸ“„ PDF</button>
        <button class="action-btn" onclick="toggleTheme()">â˜€ï¸</button>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="forecast-content">
    <!-- Search Bar -->
    <section class="search-bar">
      <div class="search-wrapper">
        <input type="text" id="location-input" placeholder="ğŸ” Buscar ciudad..." onkeypress="if(event.key==='Enter')searchWeather()"/>
        <button onclick="searchWeather()">Buscar</button>
      </div>
      <div class="quick-cities">
        <button onclick="quickSearch('Buenos Aires')">Buenos Aires</button>
        <button onclick="quickSearch('Madrid')">Madrid</button>
        <button onclick="quickSearch('Nueva York')">Nueva York</button>
        <button onclick="quickSearch('Londres')">Londres</button>
        <button onclick="quickSearch('Tokio')">Tokio</button>
      </div>
    </section>

    <!-- City Weather Banner -->
    <section class="weather-banner" id="weather-banner" style="display: none;">
      <div class="banner-main">
        <div class="weather-main">
          <span class="weather-icon" id="weather-icon">â˜€ï¸</span>
          <div class="temp-info">
            <span class="temp-value" id="current-temp">--</span>
            <span class="temp-unit">Â°C</span>
          </div>
        </div>
        <div class="weather-details">
          <h1 class="city-name" id="city-name">Ciudad</h1>
          <p class="condition" id="weather-description">--</p>
          <p class="date" id="current-date">Hoy</p>
        </div>
      </div>
      <div class="weather-stats">
        <div class="stat">
          <span class="stat-icon">ğŸ’§</span>
          <span class="stat-value" id="humidity">--%</span>
          <span class="stat-label">Humedad</span>
        </div>
        <div class="stat">
          <span class="stat-icon">ğŸ’¨</span>
          <span class="stat-value" id="wind">-- km/h</span>
          <span class="stat-label">Viento</span>
        </div>
        <div class="stat">
          <span class="stat-icon">ğŸŒ¡ï¸</span>
          <span class="stat-value" id="feels-like">--Â°</span>
          <span class="stat-label">SensaciÃ³n</span>
        </div>
        <div class="stat">
          <span class="stat-icon">ğŸ“Š</span>
          <span class="stat-value" id="pressure">-- hPa</span>
          <span class="stat-label">PresiÃ³n</span>
        </div>
      </div>
    </section>

    <!-- Content Grid -->
    <div class="content-grid">
      <!-- Left Column - Main Weather -->
      <div class="main-column">
        <!-- Sun & Moon -->
        <div class="info-card sun-moon-card">
          <div class="card-header">
            <h2>â˜€ï¸ Sol y Luna</h2>
          </div>
          <div class="sun-moon-content">
            <div class="sun-info">
              <div class="sun-icon">â˜€ï¸</div>
              <div class="sun-times">
                <div class="time-row">
                  <span>ğŸŒ… Amanecer</span>
                  <span class="time" id="sunrise">--:--</span>
                </div>
                <div class="time-row">
                  <span>ğŸŒ‡ Atardecer</span>
                  <span class="time" id="sunset">--:--</span>
                </div>
                <div class="day-length">ğŸ“… DÃ­a: <span id="day-length">--</span></div>
              </div>
            </div>
            <div class="moon-info">
              <div class="moon-icon" id="moon-icon">ğŸŒ™</div>
              <div class="moon-details">
                <span class="moon-phase" id="moon-phase-name">Fase Lunar</span>
                <span class="moon-illum" id="moon-illumination">0% iluminada</span>
              </div>
            </div>
          </div>
        </div>

        <!-- 7 Day Forecast -->
        <div class="info-card">
          <div class="card-header">
            <h2>ğŸ“… PronÃ³stico 7 DÃ­as</h2>
          </div>
          <div class="forecast-7days" id="daily-forecast">
            <div class="day-placeholder">Busca una ciudad para ver el pronÃ³stico</div>
          </div>
        </div>

        <!-- Hourly Forecast -->
        <div class="info-card">
          <div class="card-header">
            <h2>â° PronÃ³stico Horario</h2>
            <div class="time-filters">
              <button class="active" onclick="filterHours(12, this)">12h</button>
              <button onclick="filterHours(24, this)">24h</button>
            </div>
          </div>
          <div class="hourly-forecast" id="hourly-forecast">
            <div class="hour-placeholder">--</div>
          </div>
        </div>

        <!-- Temperature Chart -->
        <div class="info-card">
          <div class="card-header">
            <h2>ğŸ“ˆ Temperatura</h2>
          </div>
          <div class="chart-container">
            <div id="tempChart"></div>
          </div>
        </div>

        <!-- Weather Map -->
        <div class="info-card map-card">
          <div class="card-header">
            <h2>ğŸ—ºï¸ Mapa</h2>
            <div class="map-filters">
              <button class="active" onclick="changeMapType('satellite')">ğŸ›°ï¸</button>
              <button onclick="changeMapType('weather')">â˜€ï¸</button>
              <button onclick="changeMapType('precipitation')">ğŸŒ§ï¸</button>
              <button onclick="changeMapType('wind')">ğŸ’¨</button>
            </div>
          </div>
          <div class="map-container">
            <iframe id="map-frame"></iframe>
          </div>
        </div>
      </div>

      <!-- Right Column - Details & Info -->
      <div class="side-column">
        <!-- Quick Stats -->
        <div class="info-card stats-card">
          <div class="card-header">
            <h2>ğŸ’¡ Detalles</h2>
          </div>
          <div class="stats-grid">
            <div class="stat-item">
              <span class="stat-icon">â˜€ï¸</span>
              <div class="stat-info">
                <span class="stat-label">Ãndice UV</span>
                <span class="stat-value" id="uv-value">--</span>
              </div>
            </div>
            <div class="stat-item">
              <span class="stat-icon">ğŸ’§</span>
              <div class="stat-info">
                <span class="stat-label">PrecipitaciÃ³n</span>
                <span class="stat-value" id="rain-value">-- mm</span>
              </div>
            </div>
            <div class="stat-item">
              <span class="stat-icon">ğŸ’¨</span>
              <div class="stat-info">
                <span class="stat-label">RÃ¡fagas</span>
                <span class="stat-value" id="gusts-value">-- km/h</span>
              </div>
            </div>
            <div class="stat-item">
              <span class="stat-icon">ğŸ‘ï¸</span>
              <div class="stat-info">
                <span class="stat-label">Visibilidad</span>
                <span class="stat-value" id="visibility-value">-- km</span>
              </div>
            </div>
            <div class="stat-item">
              <span class="stat-icon">â˜ï¸</span>
              <div class="stat-info">
                <span class="stat-label">Nubosidad</span>
                <span class="stat-value" id="clouds-value">--%</span>
              </div>
            </div>
            <div class="stat-item">
              <span class="stat-icon">â›ˆï¸</span>
              <div class="stat-info">
                <span class="stat-label">Tormenta</span>
                <span class="stat-value" id="storm-value">--%</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Astronomy Data -->
        <div class="info-card">
          <div class="card-header">
            <h2>ğŸŒ AstronomÃ­a</h2>
          </div>
          <div class="astro-data">
            <div class="astro-row">
              <span>â˜€ï¸ Distancia Sol</span>
              <span id="sun-distance">-- M km</span>
            </div>
            <div class="astro-row">
              <span>ğŸŒ™ Distancia Luna</span>
              <span id="moon-distance">-- km</span>
            </div>
            <div class="astro-row">
              <span>â° MediodÃ­a Solar</span>
              <span id="solar-noon">--:--</span>
            </div>
            <div class="astro-row">
              <span>ğŸ“ DeclinaciÃ³n</span>
              <span id="solar-declination">--Â°</span>
            </div>
            <div class="astro-row">
              <span>ğŸ“ˆ Tendencia</span>
              <span id="temp-trend">--</span>
            </div>
          </div>
        </div>

        <!-- Activities -->
        <div class="info-card">
          <div class="card-header">
            <h2>ğŸ¯ Actividades</h2>
          </div>
          <div class="activities" id="activities-grid">
            <div class="activity">Busca el clima para ver actividades</div>
          </div>
        </div>

        <!-- City Info -->
        <div class="info-card">
          <div class="card-header">
            <h2>ğŸ™ï¸ Ciudad</h2>
          </div>
          <div class="city-data">
            <div class="city-row">
              <span>ğŸ“ PaÃ­s</span>
              <span id="city-country">--</span>
            </div>
            <div class="city-row">
              <span>ğŸŒ Coordenadas</span>
              <span id="city-coords">--</span>
            </div>
            <div class="city-row">
              <span>â±ï¸ Zona Horaria</span>
              <span id="city-timezone">--</span>
            </div>
            <div class="city-row">
              <span>ğŸ‘¥ PoblaciÃ³n</span>
              <span id="city-population">--</span>
            </div>
            <div class="city-row">
              <span>ğŸ”ï¸ ElevaciÃ³n</span>
              <span id="city-elevation">-- m</span>
            </div>
          </div>
        </div>

        <!-- Science Corner -->
        <div class="info-card">
          <div class="card-header">
            <h2>ğŸ”­ Ciencia</h2>
          </div>
          <div class="science-list">
            <div class="science-item">
              <span class="science-icon">ğŸŒ¡ï¸</span>
              <div class="science-content">
                <strong>Â¿QuÃ© es la sensaciÃ³n tÃ©rmica?</strong>
                <p>La temperatura percibida considerando viento y humedad.</p>
              </div>
            </div>
            <div class="science-item">
              <span class="science-icon">ğŸ’¨</span>
              <div class="science-content">
                <strong>Â¿CÃ³mo se forma el viento?</strong>
                <p>Por diferencias de presiÃ³n atmosfÃ©rica entre zonas.</p>
              </div>
            </div>
            <div class="science-item">
              <span class="science-icon">â˜ï¸</span>
              <div class="science-content">
                <strong>Tipos de nubes</strong>
                <p>Clasificadas por altitud: cirrus, cumulus, stratus.</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Meteorology Facts -->
        <div class="info-card facts-card">
          <div class="card-header">
            <h2>ğŸ”¬ Datos</h2>
          </div>
          <div class="facts-list">
            <div class="fact">
              <span>ğŸŒ¡ï¸</span>
              <p>Calor: 56.7Â°C (Furnace Creek, 1913)</p>
            </div>
            <div class="fact">
              <span>â„ï¸</span>
              <p>FrÃ­o: -89.2Â°C (Vostok, 1983)</p>
            </div>
            <div class="fact">
              <span>âš¡</span>
              <p>MÃ¡s rayos: Lago Maracaibo</p>
            </div>
            <div class="fact">
              <span>ğŸŒ§ï¸</span>
              <p>Lluvia: 1,825mm en 24h (ReuniÃ³n, 1966)</p>
            </div>
          </div>
        </div>

        <!-- Social X -->
        <div class="info-card social-card">
          <div class="card-header">
            <h2>ğ• MeteorologÃ­a</h2>
          </div>
          <div class="social-list">
            <a href="https://twitter.com/NWS" target="_blank" class="social-item">
              <span>ğŸŒ¤ï¸</span>
              <span>@NWS</span>
            </a>
            <a href="https://twitter.com/StormHour" target="_blank" class="social-item">
              <span>â›ˆï¸</span>
              <span>@StormHour</span>
            </a>
            <a href="https://twitter.com/ClimateCentral" target="_blank" class="social-item">
              <span>ğŸŒ</span>
              <span>@ClimateCentral</span>
            </a>
            <a href="https://twitter.com/SMN_Argentina" target="_blank" class="social-item">
              <span>ğŸ‡¦ğŸ‡·</span>
              <span>@SMN_Argentina</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    <p>âš¡ ZEUS METEO - Sistema de Inteligencia MeteorolÃ³gica</p>
    <p>Â© 2026 Zeus Meteo</p>
  </footer>

  <!-- Chatbot -->
  <div class="chat-fab" onclick="toggleChatbot()">ğŸ’¬</div>
  <div class="chat-box" id="chatbot-container">
    <div class="chat-header">
      <span>ğŸ¤– Zeus IA</span>
      <button onclick="toggleChatbot()">âœ•</button>
    </div>
    <div class="chat-messages" id="chatbot-messages">
      <div class="chat-welcome">
        <p>Â¡Hola! PregÃºntame sobre el clima.</p>
      </div>
    </div>
    <div class="chat-input">
      <input type="text" id="chatbot-input-nasa" placeholder="Escribe..." onkeypress="handleChatKeyPress(event)"/>
      <button onclick="sendChatMessage()">â¤</button>
    </div>
  </div>

  <script src="weather.js?v=40&ts=20260112"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const urlParams = new URLSearchParams(window.location.search);
      const city = urlParams.get('city');
      if (city) {
        document.getElementById('location-input').value = city;
        searchWeather();
      }
    });
  </script>
</body>
</html>
